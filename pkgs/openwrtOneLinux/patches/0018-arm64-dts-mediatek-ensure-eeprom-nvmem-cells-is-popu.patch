From bd7c99b59b119264bff7a962ecb80f4cb3b5b015 Mon Sep 17 00:00:00 2001
From: Jared Baur <jaredbaur@fastmail.com>
Date: Wed, 29 Oct 2025 21:57:30 -0700
Subject: [PATCH 18/18] arm64: dts: mediatek: ensure eeprom nvmem cells is
 populated

---
 arch/arm64/boot/dts/mediatek/mt7981b-openwrt-one.dts | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/arm64/boot/dts/mediatek/mt7981b-openwrt-one.dts b/arch/arm64/boot/dts/mediatek/mt7981b-openwrt-one.dts
index 0c0878488ae9..4d97cc608bed 100644
--- a/arch/arm64/boot/dts/mediatek/mt7981b-openwrt-one.dts
+++ b/arch/arm64/boot/dts/mediatek/mt7981b-openwrt-one.dts
@@ -232,6 +232,7 @@ partition@0 {
 			};
 
 			partition@40000 {
+				compatible = "nvmem-cells";
 				reg = <0x40000 0xc0000>;
 				label = "factory";
 				read-only;
@@ -243,6 +244,7 @@ nvmem-layout {
 
 					eeprom_factory_0: eeprom@0 {
 						reg = <0x0 0x1000>;
+						#nvmem-cell-cells = <1>;
 					};
 
 					macaddr_factory_4: macaddr@4 {
-- 
2.52.0

